# 08. ì¤‘ë¦½ìƒˆ ì‹œìŠ¤í…œ

## ğŸ“‹ ì¤‘ë¦½ìƒˆ ì‹œìŠ¤í…œ ê°œìš”
- **ëª©ì **: ê²Œì„ì— ë³€ìˆ˜ì™€ ê¸´ì¥ê°ì„ ë”í•˜ëŠ” ì¤‘ë¦½ì  ìœ„í—˜ ìš”ì†Œ
- **íŠ¹ì§•**: í”Œë ˆì´ì–´ì™€ ëª¬ìŠ¤í„° ëª¨ë‘ì—ê²Œ ìœ„í˜‘ì´ ë˜ëŠ” ê³µì •í•œ ì‹œìŠ¤í…œ
- **ì¶œí˜„ ì¡°ê±´**: ìŠ¤í…Œì´ì§€ 2ë¶€í„° ë“±ì¥í•˜ì—¬ ë‚œì´ë„ ì¡°ì ˆ

## ğŸ”„ ì¤‘ë¦½ìƒˆ í–‰ë™ íŒ¨í„´

```
      ì¤‘ë¦½ìƒˆ ë“±ì¥ (ìŠ¤í…Œì´ì§€ 2+)
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ•Šï¸ í•˜ëŠ˜ì—ì„œ ë¹„í–‰â”‚
    â”‚                 â”‚
    â”‚ í”Œë ˆì´ì–´ ì¶”ì    â”‚â”€â”€â†’ float playerX = _player.transform.position.x;
    â”‚ ì¢Œìš° ì´ë™       â”‚â”€â”€â†’ transform.position += Vector3.right * _flyDirection * flySpeed;
    â”‚ 5ì´ˆ ê°„ê²©        â”‚â”€â”€â†’ _diveTimer -= Time.deltaTime;
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“ 5ì´ˆ í›„
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âš ï¸ ê²½ê³  ë‹¨ê³„   â”‚
    â”‚                 â”‚
    â”‚ ìœ„ì¹˜ ê³ ì •       â”‚â”€â”€â†’ _currentState = BirdState.Warning; (update ì—ì„œ ìƒíƒœ ë°˜ì˜)
    â”‚ 1ì´ˆê°„ ê²½ê³       â”‚â”€â”€â†’ yield return new WaitForSeconds(diveWarningTime);
    â”‚ ì´í™íŠ¸ í‘œì‹œ     â”‚â”€â”€â†’ Instantiate(warningEffect, transform.position);
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“ 1ì´ˆ í›„
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â¬‡ï¸ ê¸‰ê°•í•˜ ê³µê²© â”‚
    â”‚                 â”‚
    â”‚ ê³ ì† ë‚™í•˜       â”‚â”€â”€â†’ transform.position += direction * diveSpeed;
    â”‚ ë°ë¯¸ì§€ ë°œìƒ     â”‚â”€â”€â†’ if (_currentState == BirdState.Diving)
    â”‚ ğŸ’¥ í”Œë ˆì´ì–´ 15 â”‚â”€â”€â†’     player.TakeDamage(damageToPlayer);
    â”‚ ğŸ’¥ ëª¬ìŠ¤í„° 30   â”‚â”€â”€â†’     enemy.TakeDamage(damageToEnemies);
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“ ëª©í‘œ ë„ë‹¬
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â¸ï¸ ìµœí•˜ë‹¨ ëŒ€ê¸° â”‚
    â”‚                 â”‚
    â”‚ 0.5ì´ˆ ë©ˆì¶¤     â”‚â”€â”€â†’ yield return new WaitForSeconds(diveHoldTime);
    â”‚ ë°ë¯¸ì§€ ì—†ìŒ     â”‚â”€â”€â†’ _currentState = BirdState.Holding;
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“ 0.5ì´ˆ í›„
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â¬†ï¸ í•˜ëŠ˜ë¡œ ë³µê·€ â”‚
    â”‚                 â”‚
    â”‚ ì•ˆì „í•œ ìƒìŠ¹     â”‚â”€â”€â†’ Vector3 direction = (_startPosition - transform.position);
    â”‚ ë°ë¯¸ì§€ ì—†ìŒ     â”‚â”€â”€â†’ _currentState = BirdState.Returning;
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“ ë³µê·€ ì™„ë£Œ
            ì²˜ìŒìœ¼ë¡œ
```

## ğŸ¯ í•µì‹¬ ë™ì‘ ì›ë¦¬

### 1. í”Œë ˆì´ì–´ ì¶”ì  ë¹„í–‰
```csharp
// í”Œë ˆì´ì–´ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ë¹„í–‰ ë²”ìœ„ ê³„ì‚°
float playerX = _player.transform.position.x;
float minX = playerX + flyRangeMinX; // -8~8 ë²”ìœ„
float maxX = playerX + flyRangeMaxX;

// ê²½ê³„ì—ì„œ ë°©í–¥ ì „í™˜
if (currentX <= minX && _flyDirection == -1)
    _flyDirection = 1;
else if (currentX >= maxX && _flyDirection == 1)
    _flyDirection = -1;
```

### 2. ë‹¤ì´ë¸Œ ê³µê²© ì‹œí€€ìŠ¤
```csharp
private IEnumerator DiveSequence()
{
    // 1. ê²½ê³  ë‹¨ê³„ (1ì´ˆê°„ ìœ„ì¹˜ ê³ ì •)
    _currentState = BirdState.Warning;
    yield return new WaitForSeconds(diveWarningTime);
    
    // 2. ë‹¤ì´ë¸Œ ì‹œì‘ (ë¹ ë¥¸ ìˆ˜ì§ ë‚™í•˜)
    _currentState = BirdState.Diving;
    _isDiving = true;
}
```

### 3. ì¶©ëŒ íŒì • ì‹œìŠ¤í…œ
```csharp
private void OnTriggerEnter2D(Collider2D collision)
{
    // ë‹¤ì´ë¸Œ ì¤‘ì¼ ë•Œë§Œ ë°ë¯¸ì§€ ì ìš©
    if (_currentState != BirdState.Diving) return;
    
    // í”Œë ˆì´ì–´ í”¼í•´
    if (collision.TryGetComponent<Player>(out Player player))
        player.TakeDamage(damageToPlayer); // 15 ë°ë¯¸ì§€
    
    // ëª¬ìŠ¤í„° í”¼í•´ (ë” í° ë°ë¯¸ì§€)
    if (collision.TryGetComponent<IDamageable>(out IDamageable enemy))
        enemy.TakeDamage(damageToEnemies); // 30 ë°ë¯¸ì§€
}
```

## âš™ï¸ ìŠ¤í¬ë„ˆ ì‹œìŠ¤í…œ

### ìŠ¤í° ê´€ë¦¬ ì•Œê³ ë¦¬ì¦˜
```csharp
private void Update()
{
    // ìŠ¤í…Œì´ì§€ ì¡°ê±´ í™•ì¸
    if (StageManager.Ins.CurrentStageLv < startStage) return;
    
    // ìµœëŒ€ ê°œìˆ˜ ì œí•œ
    if (_currentBirdCount >= maxBirds) return;
    
    // íƒ€ì´ë¨¸ ê¸°ë°˜ ìŠ¤í°
    _spawnTimer -= Time.deltaTime;
    if (_spawnTimer <= 0f)
    {
        SpawnBird();
        _spawnTimer = spawnInterval; // 10ì´ˆ ê°„ê²©
    }
}
```

## ğŸ® ê²Œì„ ë°¸ëŸ°ìŠ¤ ê³ ë ¤ì‚¬í•­

### ê³µì •ì„± í™•ë³´
- **ì–‘ë°©í–¥ ìœ„í˜‘**: í”Œë ˆì´ì–´ì™€ ëª¬ìŠ¤í„° ëª¨ë‘ì—ê²Œ í”¼í•´
- **ì˜ˆì¸¡ ê°€ëŠ¥ì„±**: 1ì´ˆ ê²½ê³  ì‹œê°„ìœ¼ë¡œ íšŒí”¼ ê¸°íšŒ ì œê³µ
- **ì œí•œëœ ìœ„í—˜**: ë‹¤ì´ë¸Œí•  ë•Œë§Œ ë°ë¯¸ì§€, ë³µê·€ ì‹œì—ëŠ” ë¬´í•´

### ë‚œì´ë„ ì¡°ì ˆ
- **ìŠ¤í…Œì´ì§€ë³„ ì¶œí˜„**: 2ìŠ¤í…Œì´ì§€ë¶€í„° ë“±ì¥ìœ¼ë¡œ ì´ˆë°˜ ë¶€ë‹´ ê°ì†Œ
- **ê°œìˆ˜ ì œí•œ**: ìµœëŒ€ 2ë§ˆë¦¬ë¡œ ê³¼ë„í•œ ìœ„í—˜ ë°©ì§€
- **ê°„ê²© ì¡°ì ˆ**: 10ì´ˆ ìŠ¤í° ê°„ê²©ìœ¼ë¡œ ì ì ˆí•œ ê¸´ì¥ê° ìœ ì§€

## ğŸ’¡ êµ¬í˜„ ì´ìœ 
1. **ê²Œì„ ë‹¤ì´ë‚˜ë¯¹ ì¦ì§„**: ë‹¨ìˆœí•œ ëª¬ìŠ¤í„° ì‚¬ëƒ¥ì—ì„œ ë²—ì–´ë‚˜ í™˜ê²½ì  ìœ„í—˜ ìš”ì†Œ ì¶”ê°€
2. **ì „ëµì  ì‚¬ê³  ìœ ë„**: ì¤‘ë¦½ìƒˆ ìœ„ì¹˜ë¥¼ ê³ ë ¤í•œ ì´ë™ê³¼ ì „íˆ¬ í•„ìš”
3. **ê³µì •í•œ ê²Œì„í”Œë ˆì´**: í”Œë ˆì´ì–´ë§Œ ì¼ë°©ì ìœ¼ë¡œ ìœ„í—˜í•˜ì§€ ì•Šì€ ê· í˜•ì¡íŒ ì‹œìŠ¤í…œ 